<p *ngIf="!address"><em>Loading...</em></p>

<div *ngIf="(address) as Address;">
  <div class="modal-header">
    <h1 class="modal-title" id="modal-basic-title">Personal data</h1>
      <div class="btn-group">
          <button class='btn btn-secondary' (click)="location.back()" >
              <i class='material-icons'>undo</i>
            </button>
            <button (click)="submit()" class="btn btn-secondary" [disabled]="form.invalid">
              <i class='material-icons'>save</i>
            </button>
        </div>
    </div>

    <div class="modal-body">
      <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="row">
            <div>
                <h4 class="d-flex justify-content-between align-items-center mb-2">
                    <span class="text-muted">Your Address</span>
                  </h4>
                <div class="row">
                <div class="col-md-5 mb-2">
                    <label for="street">Street</label>
                    <input type="text" class="form-control ml-auto" formControlName="street" [(ngModel)]="address.street" />
                  </div>
                  <div class="col-md-4 mb-2">
                    <label for="number">Number</label>
                    <input type="text" class="form-control ml-auto" formControlName="number" [(ngModel)]="address.number" />
                  </div>
                  <div class="col-md-5 mb-2">
                      <label for="zip">Zip</label>
                      <input type="text" class="form-control ml-auto" formControlName="zip" [(ngModel)]="address.zip" >
                  </div>
                  <div class="col-md-4 mb-2">
                    <label for="city">City</label>
                    <input type="text" class="form-control ml-auto" formControlName="city" [(ngModel)]="address.city" [ngClass]="{ 'is-invalid': errors.city }"/>
                  </div>
                  <div class="col-md-5 mb-2">
                    <label for="country">Country</label>
                    <select class="custom-select d-block w-100"  formControlName="country"  [(ngModel)]="address.country" (ngModelChange)="onCountryChange($event)" >
                      <option value="">Choose...</option>
                      <option *ngFor="let country of countries" [(ngValue)]="country.name">{{country.name}}</option>
                    </select>
                </div>
                  <div class="col-md-4 mb-2">
                    <label for="province">Province</label>
                    <select class="custom-select d-block w-100" formControlName="province" [(ngModel)]="address.province">
                      <option value="">Choose...</option>
                      <option *ngFor="let province of provinces" [(ngValue)]="province">{{province}}</option>
                    </select>
                  </div>
              </div>
            </div>
          </div>
      </form>


  </div>
</div>

<app-JsonModel [model]="address"></app-JsonModel>



